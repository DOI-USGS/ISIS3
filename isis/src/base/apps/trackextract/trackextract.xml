<?xml version="1.0" encoding="UTF-8"?>

<application name="trackextract" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://isis.astrogeology.usgs.gov/Schemas/Application/application.xsd">
  <brief>
    Removes the tracking band from a mosaic and places it into a new tracking cube.
  </brief>

  <description>
    Updates a mosaic cube with a tracking band created on or before isis version 3.5.2 to be up to 
    date with isis version 3.5.3 or above. Removes the tracking band and table from the input mosaic 
    cube and places them into a separate tracking cube. A reference to the tracking cube is added to 
    the mosaic label. The mosaic cube's bit type remains the same, but the tracking cube's bit type 
    is made unsigned integer. We also have to update the tracking cube's pixels by subtracting the 
    offsett ProcessMosaic adds to each pixel and adding the new offset, the minimum value of an 
    unsigned integer. ProcessMosaic also sets pixels that are not from any cube to a default value. 
    If a pixel has this value, we set it to Null.
  </description>

  <category>
    <categoryItem>Utility</categoryItem>
  </category>

  <history>
    <change name="Kaitlyn Lee" date="2018-07-20">
      Original version
    </change>
  </history>

  <groups>
    <group name="Files">
      <parameter name="FROM">
        <type>cube</type>
        <fileMode>input</fileMode>
        <brief>
          Input cube with tracking band
        </brief>
        <description>
          The mosaic created on or before the isis version 3.5.2 that contains the tracking band to 
          be extracted.
        </description>
        <filter>
          *.cub
        </filter>
      </parameter>

      <parameter name="TO">
        <type>cube</type>
        <fileMode>output</fileMode>
        <brief>
          Output mosaic and tracking cube
        </brief>
        <description>
          The output mosaic cube name that will be up to date with isis version 3.5.3 or above. 
          This cube will not have the tracking band, but instead the tracking information will be 
          placed into a new cube with the same name but with "_tracking" added to the end.
        </description>
        <filter>
          *.cub
        </filter>
      </parameter>
    </group>
  </groups>
</application>
