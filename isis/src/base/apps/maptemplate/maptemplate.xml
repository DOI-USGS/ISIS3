<?xml version="1.0" encoding="UTF-8"?>

<application name="maptemplate" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://isis.astrogeology.usgs.gov/Schemas/Application/application.xsd">

  <brief>
      Create map file template for a projection
  </brief>

  <description>
   <p>
     This program produces a <def>PVL</def> formatted file that contains the
     mapping group keywords required to transform an image to a
     <def link="Map Projection">map projection</def>.
   </p>

   <p>
     <b>Required Input</b>
     <ul>
       <li>Map File Template output filename</li>
       <li>Projection name</li>
       <li>Additional parameters required for specific projections</li>
       <li>Input list if CALC option will be used</li>
     </ul>
   </p>

   <p>
     <b>Output</b><br /><br />
     A PVL formatted Map File Template containing mapping group keywords
     for the selected projection.  The '.map' extension is appended to the output
     file automatically, if the file extension is not provided by the user.  The
     output file may contain all or some of the map specifications listed below:
     <ul>
       <li>User-preferred projection type (required)</li>
       <li>Other keywords required for specific projections</li>
       <li>Target body radii</li>
       <li>Latitude/longitude coverage or ground range</li>
       <li>Pixel resolution</li>
       <li>Latitude and longitude definitions</li>
       <li>Distance from center of target</li>
       <li>Standard parallels</li>
     </ul>
   </p>

   <p>
     <b>Map File Template Creation</b> <br /><br />
     To convert a raw instrument/camera cube (<def>Level1</def>) to a map projected
     image (<def>Level2</def>) the user must (1) create a  custom <def>PVL</def> formatted
     text file, (2) use this <i>maptemplate</i> application to produce one, or (3) use
       the automated, projection-specific Map File Template in $ISISROOT/templates/appdata/maps.
     Whichever method that you choose, the Map File Template should contain the necessary
     keywords to project an image.
   </p>


   <p>
     <b>Map File Template Creation Choices:</b>
     <ol>
     <li>
       <def>PVL</def> formatted text file: you must make a list of parameters
       based on the projection you wish to use, and input the appropriate values
       for each. The following example is a custom Map File Template for defining
       the projection of an image of Mars to the sinusoidal projection:
<blockquote>
<pre>
 Group = Mapping
 TargetName         = Mars
 EquatorialRadius   = 3396190.0 &lt;meters&gt;
 PolarRadius        = 3376200.0 &lt;meters&gt;
 LatitudeType       = Planetocentric
 LongitudeDirection = PositiveEast
 LongitudeDomain    = 360

 ProjectionName     = Sinusoidal
 CenterLongitude    = 227.95679808356

 MinimumLatitude    = 10.766902750622
 MaximumLatitude    = 34.44419678224
 MinimumLongitude   = 219.7240455337
 MaximumLongitude   = 236.18955063342

 PixelResolution    = 426.87763879023 &lt;meters/pixel&gt;
 End_Group
</pre>
</blockquote>
     </li>
     The example above contains both required and optional keywords.<br /><br />
     <li>
       The <i>maptemplate</i> application: <i>maptemplate</i> will prompt you for
       all the necessary parameters to project your image. However, the planar and
       ring cylindrical projections are excluded from use in the application, because
       it requires keywords that are not defined in the program.<br /><br />
     </li>
     <li>
	 Templates in $ISISROOT/templates/appdata/maps:  the template contains all the
       parameters necessary to project an image, and only the Projection name is
       "uncommented" in the file. This is because some projections only require
       that you enter a projection name, and the default values are computed for
       the remaining keywords. In such cases where the default value cannot be
       calculated using the camera model or ISIS system default, you must
       "uncomment" the appropriate line(s) of the template and set the values.
       See example below:
<blockquote>
<pre>
Group = Mapping
  ProjectionName  = LambertConformal
# CenterLatitude  = 0.0 &lt;degrees&gt;
# CenterLongitude = 0.0 &lt;degrees&gt;
# Earth (ographic)
# FirstStandardParallel  = 33.0 &lt;degrees&gt;
# SecondStandardParallel = 45.0 &lt;degrees&gt;

# Mars (ographic)
# <b>FirstStandardParallel</b>  = 35.83 &lt;degrees&gt;  <b>*Remove # to uncomment and change 35.83 to your value</b>
# <b>SecondStandardParallel</b> = 59.17 &lt;degrees&gt;  <b>*Remove # to uncomment and change 59.17 to your value</b>
  End_Group
</pre>
</blockquote>
     </li>
     </ol>
   </p>
   <p>
     <b>Identifying Required Parameters:</b><br /><br />
     The following is a list of projections and keywords that are required. When
     a keyword is missing, and you try to project an image using projection
     software like <i>cam2map</i>, an error will occur. Below is a list of
     projections and the keywords that must be in the Map File Template:<br />

<table class="tableFormattedInformation">
<tr>
   <th>
      PROJECTION
   </th>
   <th>
      ASSIGN VALUES FOR THESE KEYWORDS
   </th>
</tr>
<tr>
   <td>
      Lambert Conformal
   </td>
   <td>
      FirstStandardParallel, SecondStandardParallel
   </td>
</tr>
 <tr>
   <td>
      Oblique cylindrical
   </td>
   <td>
      PoleLatitude, PoleLongitude, PoleRotation
   </td>
</tr>
 <tr>
   <td>
     Point perspective
   </td>
   <td>
     Distance
   </td>
</tr>
 <tr>
   <td>
     Planar (unavailable in <i>maptemplate</i>)
   </td>
   <td>
     CenterRingRadius, CenterRingLongitude, RingLongitudeDirection, RingLongitudeDomain
   </td>
</tr>

 <tr>
   <td>
      Ring cylindrical (unavailable in <i>maptemplate</i>)
   </td>
   <td>
      CenterRingRadius, CenterRingLongitude, RingLongitudeDirection, RingLongitudeDomain
   </td>
</tr>
</table>

</p>
<br />
<p>
<b>How the defaults are set for Mapping Group keywords:</b>

<table class="tableFormattedInformation">
<tr>
   <th>
      DEFAULT SOURCE
   </th>
   <th>
      MAPPING GROUP KEYWORDS
   </th>
</tr>
<tr>
   <td>
      From Label
   </td>
   <td>
      TargetName
   </td>
</tr>

<tr>
   <td>
      From camera model
   </td>
   <td>
      CenterLatitude, CenterLongitude, MaximumLatitude, MaximumLongitude,
      MinimumLatitude, MinimumLongitude, PixelResolution, Scale
   </td>
</tr>
<tr>
   <td>
      ISIS Map defaults
   </td>
   <td>
      LatitudeType (ocentric), LongitudeDomain (360), LongitudeDirection (East),
      ScaleFactor (1)
   </td>
</tr>
<tr>
   <td>
      From PCK file for Target
   </td>
   <td>
      EquatorialRadius, PolarRadius
   </td>
</tr>

<tr>
   <td>
      Not computed, user must set
   </td>
   <td>
      CenterRingLongitude, CenterRingRadius, Distance, FirstStandardParallel,
      MaximumRingLongitude, MaximumRingRadius, MinimumRingLongitude,
      MinimumRingRadius, PoleLatitude, PoleLongitude, PoleRotation,
      RingLongitudeDirection, RingLongitudeDomain, SecondStandardParallel
   </td>
</tr>
</table>
</p>
<br />
   <p>
     <b><i>Maptemplate</i> GUI Interface</b><br /><br />
     Radio buttons in the GUI are used to select options. Once an option is
     selected, the required parameters pertinent to that option become activated;
     therefore the user should complete the highlighted fields in the different
     parameter sections. Use the right scroll bar on the right side of the GUI
     to see all the available options.
    </p>
    <p>
     The <image src="assets/images/exec.png" alt="Gear Button" height="22" width="22">
     </image> button is used for RNGOPT and RESOPT options. If the button is clicked,
     the range will be calculated and automatically entered in the GUI
     fields with the appropriate values.  For SELECT, the
     <image src="assets/images/view_tree.png" alt="File Tree Icon" height="22"
     width="22"> </image> button is used to select a Map File Template, the
     <image src="assets/images/view_text.png" alt="View File Icon"
     height="22" width="22"> </image> button is use to view the contents of
     the selected file at the bottom of the GUI, and the "Down Arrow" button is
     used to load the contents of the selected file into the appropriate GUI fields.
     When the target name is set and no other value is specified, the
     <image src="assets/images/view_text.png" alt="View File Icon" height="22"
     width="22"> </image> button next to EQRADIUS is used to display the system
     radii in the log area.
   </p>

   <p>
     <b>Parameter Setting Action</b>

     <table class="tableFormattedInformation">

     <tr>
       <th>
     	 PARAMETER
       </th>
       <th>
     	 ACTION
       </th>
     </tr>
     <tr>
       <td>
     	 NONE
       </td>
       <td>
     	 No keywords regarding the target will be added to the Map File Template.
	 The value for the required keywords is derived based on the ISIS defaults
	 at the time of projection. If a target name is specified and no value is
	 entered for radius, the system radii will be used.
       </td>
     </tr>

     <tr>
       <td>
     	 USER
       </td>
       <td>
     	 The user must enter the target and the preferred settings for the selected
	 projection. The user can select meters per pixel (MPP) or pixels per degree
	 (PPD) to define the units for the value entered for Resolution. If MPP is
	 chosen, the value is set for the keyword PixelResolution. If PPD is chosen,
	 the value is set for the keyword Scale.
       </td>
     </tr>
     <tr>
       <td>
     	 SELECT
       </td>
       <td>
     	 The target definition information is retrieved from an existing Map File
	 Template.  The information can be displayed in the log area or loaded into
	 appropriate GUI fields.  The Help buttons located by the radial fields can
	 only be used when the GUI is used to specify the parameters.
       </td>
     </tr>
     <tr>
       <td>
     	 CALC
       </td>
       <td>
     	 The application <i>maptemplate</i> will calculate the values using the files
	 in the input list specified in the FROMLIST parameter. For the ground range,
	 the keywords MinimumLatitude, MaximumLatitude, MinimumLongitude, and
	 MaximumLongitude are set. The values for ground range are in degrees. For
	 the resolution, the keywords PixelResolution and Scale are set. All the
	 calculated values for resolution will be meters per pixel for the keyword
	 PixelResolution.
       </td>
     </tr>
     <tr>
       <td>
     	 RESCALCOPT
       </td>
       <td>
     	The PixelResolution value is set based on whether the user selected HIGH,
	LOW, or AVERAGE when the CALC option is used to calculate the resolution.
       </td>
     </tr>
    </table>
   </p>

   <p>
     <b>Other Uses for Your Created Map file:</b> The output Map File can be used
     in applications that use projections, such as <i>cam2map</i>, <i>map2map</i>,
     <i>mapsize</i>, <i>skymap</i>, and more.
    </p>
    <p>
     See <a href="https://github.com/USGS-Astrogeology/ISIS3/wiki/Learning_About_Map_Projections">
     "Learning About Map Projections"</a> to learn more about mapping keywords.
   </p>
<br />

  </description>

  <history>
    <change name="Elizabeth Ribelin" date="2005-09-13">
      Original Version
    </change>
    <change name="Elizabeth Miller" date="2005-11-17">
      Added .map extension to TO file and fixed bug with spaces in the projection name
    </change>
    <change name="Elizabeth Miller" date="2006-05-18">
      Deprecated CubeProjection and ProjectionManager to ProjectionFactory
    </change>
    <change name="Robert Sucharski" date="2006-06-02">
      Redid GUI, added code to calculate ground range and resolution using FROMLIST, and
      added Help buttons
    </change>
    <change name="Steven Lambright" date="2008-04-23">
      Added oblique cylindrical projection
    </change>
    <change name="Steven Lambright" date="2009-02-05">
      Fixed a problem that occurred when using "TARGOPT=USER", "RNGOPT=CALC" and not entering "EQRADIUS" or "POLRADIUS"
    </change>
    <change name="Steven Lambright" date="2011-12-19">
      Updated documentation as per Ella Lee's recommendations in preparation for
      the January 2012 release.
    </change>
    <change name="Kimberly Oyama" date="2013-04-03">
      Added support for Point Perspective Projection. Fixes #212.
    </change>
    <change name="Debbie A. Cook" date="2013-04-16">
      Changed to use TProjection instead of Projection.  References #775
    </change>
    <change name="Ella Mae Lee" date="2013-11-25">
      Added LambertAzimuthalEqualArea and Robinson projections.  Updated the user
      documentation, fixes #845.
    </change>
    <change name="Ella Mae Lee" date="2013-12-12">
      Backward compatability issue due to parameter name change: TARGOPT options
      changed from SYSTEM to SELECT, IMAGE to NONE, and TARGDEF to FILE. The
      description was modified to describe the behavior when selected, fixes #845.
    </change>
    <change name="Jeannie Backer" date="2016-04-22">
      Added error message to alert to the user when the program fails to find TargetRadii.
      Added errors appTest. References #3892
    </change>
  </history>

  <seeAlso>
    <applications>
      <item>cam2map</item>
      <item>map2map</item>
      <item>mapsize</item>
      <item>skymap</item>
    </applications>
  </seeAlso>

  <category>
    <categoryItem>Map Projection</categoryItem>
  </category>

  <groups>
    <group name="Files">
      <parameter name="MAP">
        <type>filename</type>
        <fileMode>output</fileMode>
        <brief>
          Output text file containing mapping keywords and values
        </brief>
        <description>
          This file will contain the mapping information for a projection.  If
	  this file currently exists, the application overwrites the file.
	  The '.map' extension will automatically append to the filename entered
	  if you do not type in an extension. If the file name
	  in the GUI field does not have the extension, add ".map" to the string
	  before pressing the button to display the contents.
        </description>
        <helpers>
          <helper name="H1">
            <function>helperButtonLogMap</function>
            <brief>View map file in log area</brief>
            <description>This Help button will display the current map file in
	    the log area
	    </description>
	    <icon>$ISISROOT/appdata/images/icons/view_text.png</icon>
          </helper>
          <helper name="H2">
            <function>helperButtonLoadMap</function>
            <brief>Load Map File values into the GUI</brief>
            <description>
              This Help button will take the values currently in the map file
	      and load them into their correct locations in the GUI
            </description>
	    <icon>$ISISROOT/appdata/images/icons/exec.png</icon>
          </helper>
        </helpers>
        <filter>
          *.map *.cub
        </filter>
      </parameter>

      <parameter name="FROMLIST">
        <type>filename</type>
        <fileMode>input</fileMode>
        <internalDefault>Input list that is used only when CALC option is invoked</internalDefault>
        <brief>
          Input list of images used when calculation option is selected
        </brief>
        <description>
          A list of file names that will be used to calculate the values when (CALC)
          option is selected for the ground range (RNGOPT) or resolution (RESOPT)
	  parameters.  It is also used when a user selects the help button for the two
          parameters.
        </description>
        <filter>
          *.lis
        </filter>
      </parameter>
    </group>

    <group name="Projection">
      <parameter name="PROJECTION">
        <type>string</type>
        <brief>
            Projection selection for the map file
        </brief>
        <description>
            This is the name of the projection for the map file being
            created.  The <i>maptemplate</i> application currently does not
	    support Planar and Ring Cylindrical projections.
        </description>
        <default>
          <item>SINUSOIDAL</item>
        </default>
        <list>
          <option value="SINUSOIDAL">
            <brief>
              Sinusoidal Projection
            </brief>
            <description>
              Create a maptemplate for a sinusoidal projection.
            </description>
            <inclusions>
              <item>CLON</item>
            </inclusions>
            <exclusions>
              <item>CLAT</item>
              <item>SCALEFACTOR</item>
              <item>PAR1</item>
              <item>PAR2</item>
              <item>PROT</item>
              <item>PLAT</item>
              <item>PLON</item>
              <item>DIST</item>
            </exclusions>
          </option>
          <option value="MERCATOR">
            <brief>
              Mercator Projection
            </brief>
            <description>
              Create a maptemplate for a Mercator projection.
            </description>
            <inclusions>
              <item>CLON</item>
              <item>CLAT</item>
            </inclusions>
            <exclusions>
              <item>SCALEFACTOR</item>
              <item>PAR1</item>
              <item>PAR2</item>
              <item>PROT</item>
              <item>PLAT</item>
              <item>PLON</item>
              <item>DIST</item>
            </exclusions>
          </option>
          <option value="TRANSVERSEMERCATOR">
            <brief>
              Transverse Mercator Projection
            </brief>
            <description>
              Create a maptemplate for a transverse Mercator projection.
            </description>
            <inclusions>
              <item>CLON</item>
              <item>CLAT</item>
              <item>SCALEFACTOR</item>
            </inclusions>
            <exclusions>
              <item>PAR1</item>
              <item>PAR2</item>
              <item>PROT</item>
              <item>PLAT</item>
              <item>PLON</item>
              <item>DIST</item>
            </exclusions>
          </option>
          <option value="ORTHOGRAPHIC">
            <brief>
              Orthographic Projection
            </brief>
            <description>
              Create a maptemplate for an orthographic projection.
            </description>
            <inclusions>
              <item>CLON</item>
              <item>CLAT</item>
            </inclusions>
            <exclusions>
              <item>SCALEFACTOR</item>
              <item>PAR1</item>
              <item>PAR2</item>
              <item>PROT</item>
              <item>PLAT</item>
              <item>PLON</item>
              <item>DIST</item>
            </exclusions>
          </option>
          <option value="POLARSTEREOGRAPHIC">
            <brief>
              Polar Stereographic Projection
            </brief>
            <description>
              Create a maptemplate for a polar stereographic projection.
            </description>
            <inclusions>
              <item>CLON</item>
              <item>CLAT</item>
            </inclusions>
            <exclusions>
              <item>SCALEFACTOR</item>
              <item>PAR1</item>
              <item>PAR2</item>
              <item>PROT</item>
              <item>PLAT</item>
              <item>PLON</item>
              <item>DIST</item>
            </exclusions>
          </option>
          <option value="SIMPLECYLINDRICAL">
            <brief>
              Simple Cylindrical Projection
            </brief>
            <description>
              Create a maptemplate for a simple cylindrical projection.
            </description>
            <inclusions>
              <item>CLON</item>
            </inclusions>
            <exclusions>
              <item>CLAT</item>
              <item>SCALEFACTOR</item>
              <item>PAR1</item>
              <item>PAR2</item>
              <item>PROT</item>
              <item>PLAT</item>
              <item>PLON</item>
              <item>DIST</item>
            </exclusions>
          </option>
          <option value="EQUIRECTANGULAR">
            <brief>
              Equirectangular Projection
            </brief>
            <description>
              Create a maptemplate for an equirectangular projection.
            </description>
            <inclusions>
              <item>CLON</item>
              <item>CLAT</item>
            </inclusions>
            <exclusions>
              <item>SCALEFACTOR</item>
              <item>PAR1</item>
              <item>PAR2</item>
              <item>PROT</item>
              <item>PLAT</item>
              <item>PLON</item>
              <item>DIST</item>
            </exclusions>
          </option>
          <option value="LAMBERTCONFORMAL">
            <brief>
              Lambert Conformal Projection
            </brief>
            <description>
              Create a maptemplate for a Lambert conformal projection.
            </description>
            <inclusions>
              <item>CLON</item>
              <item>CLAT</item>
              <item>PAR1</item>
              <item>PAR2</item>
            </inclusions>
            <exclusions>
              <item>SCALEFACTOR</item>
              <item>PROT</item>
              <item>PLAT</item>
              <item>PLON</item>
              <item>DIST</item>
            </exclusions>
          </option>
          <option value="LAMBERTAZIMUTHALEQUALAREA">
            <brief>
              Lambert Azimuthal Equal-area Projection
            </brief>
            <description>
              Create a maptemplate for a Lambert azimuthal equal area projection.
            </description>
            <inclusions>
              <item>CLON</item>
              <item>CLAT</item>
            </inclusions>
            <exclusions>
              <item>SCALEFACTOR</item>
              <item>PAR1</item>
              <item>PAR2</item>
              <item>PROT</item>
              <item>PLAT</item>
              <item>PLON</item>
              <item>DIST</item>
            </exclusions>
          </option>
          <option value="OBLIQUECYLINDRICAL">
            <brief>
              Oblique Cylindrical Projection
            </brief>
            <description>
              Create a maptemplate for an oblique cylindrical projection.
            </description>
            <inclusions>
              <item>PROT</item>
              <item>PLAT</item>
              <item>PLON</item>
            </inclusions>
            <exclusions>
              <item>CLON</item>
              <item>CLAT</item>
              <item>SCALEFACTOR</item>
              <item>PAR1</item>
              <item>PAR2</item>
              <item>DIST</item>
            </exclusions>
          </option>
          <option value="POINTPERSPECTIVE">
            <brief>
              Point Perspective Projection
            </brief>
            <description>
              Create a maptemplate for a point perspective projection.
            </description>
            <inclusions>
              <item>CLON</item>
              <item>CLAT</item>
              <item>DIST</item>
            </inclusions>
            <exclusions>
              <item>SCALEFACTOR</item>
              <item>PAR1</item>
              <item>PAR2</item>
              <item>PROT</item>
              <item>PLAT</item>
              <item>PLON</item>
            </exclusions>
          </option>
          <option value="ROBINSON">
            <brief>
              Robinson Projection
            </brief>
           <description>
              Create a maptemplate for a Robinson projection.
            </description>
            <inclusions>
              <item>CLON</item>
            </inclusions>
            <exclusions>
              <item>CLAT</item>
              <item>DIST</item>
              <item>SCALEFACTOR</item>
              <item>PAR1</item>
              <item>PAR2</item>
              <item>PROT</item>
              <item>PLAT</item>
              <item>PLON</item>
            </exclusions>
          </option>
        </list>
      </parameter>
    </group>

    <group name="Projection Parameters">
      <parameter name="CLON">
        <type>double</type>
        <brief>
          Center Longitude
        </brief>
        <description>
          The center longitude to use for the mapping group.
        </description>
      </parameter>

      <parameter name="CLAT">
        <type>double</type>
        <brief>
          Center Latitude
        </brief>
        <description>
          The center latitude to use for the mapping group.
        </description>
      </parameter>

      <parameter name="SCALEFACTOR">
        <type>double</type>
        <brief>
          Scale Factor
        </brief>
        <description>
          The scale factor to use for the mapping group.
        </description>
      </parameter>

      <parameter name="PAR1">
        <type>double</type>
        <brief>
          First Standard Parallel
        </brief>
        <description>
          The first standard parallel to use for the mapping group.
        </description>
      </parameter>

      <parameter name="PAR2">
        <type>double</type>
        <brief>
          Second Standard Parallel
        </brief>
        <description>
          The second standard parallel to use for the mapping group.
        </description>
      </parameter>

      <parameter name="PLAT">
        <type>double</type>
        <brief>
          Pole Latitude
        </brief>
        <description>
          The pole latitude to use for the mapping group.
        </description>
      </parameter>

      <parameter name="PLON">
        <type>double</type>
        <brief>
          Pole Longitude
        </brief>
        <description>
          The pole longitude to use for the mapping group.
        </description>
      </parameter>

      <parameter name="PROT">
        <type>double</type>
        <brief>
          Pole Rotation
        </brief>
        <description>
          The pole rotation to use for the mapping group.
        </description>
      </parameter>

      <parameter name="DIST">
        <type>double</type>
        <brief>
          Distance from the center of the target in kilometers.
        </brief>
        <description>
          Distance from the center of the target in kilometers: value should be greater than the target radius.
        </description>
      </parameter>
    </group>

    <group name="Target Parameters">
      <parameter name="TARGOPT">
        <type>string</type>
        <brief>
          Target Selection Options
        </brief>
        <description>
          This option specifies how the target information will be created.  The
          default is NONE.  The other options are SELECT and USER.  The
          NONE option will not add any target information to the map file,
          allowing the target information from the image to be used.  The SELECT
          option allows the user to select an existing file with mapping group, and load
	  the target loaded information in the GUI fields.  The target information
	  is written to the output file. The USER option allows the user to
	  specify their target information.
        </description>
        <default>
          <item>NONE</item>
        </default>
        <list>
          <option value="NONE">
            <brief>
              No Target Information Output
            </brief>
            <description>
              No target information is put into the map template file.
              This information is retrieved or calculated for the image at
	      the time of projection.
            </description>
            <exclusions>
              <item>FILE</item>
              <item>TARGETNAME</item>
              <item>EQRADIUS</item>
              <item>POLRADIUS</item>
              <item>LATTYPE</item>
              <item>LONDIR</item>
              <item>LONDOM</item>
            </exclusions>
          </option>
          <option value="SELECT">
            <brief>
              Select Existing File
            </brief>
            <description>
              This parameter is used to select an existing File with mapping group information.
	      The contents of the map file must be loaded into the GUI fields
	      for the keywords to be written to the output Map file.
            </description>
            <inclusions>
              <item>FILE</item>
            </inclusions>
            <exclusions>
              <item>TARGETNAME</item>
              <item>EQRADIUS</item>
              <item>POLRADIUS</item>
              <item>LATTYPE</item>
              <item>LONDIR</item>
              <item>LONDOM</item>
            </exclusions>
          </option>
          <option value="USER">
            <brief>
              User Input
            </brief>
            <description>
              The user defines the target name, latitude type, longitude direction,
	      longitude domain, equatorial radius, and polar radius.
            </description>
            <inclusions>
              <item>TARGETNAME</item>
              <item>LATTYPE</item>
              <item>LONDIR</item>
              <item>LONDOM</item>
            </inclusions>
            <exclusions>
              <item>FILE</item>
            </exclusions>
          </option>
        </list>
      </parameter>

      <parameter name="FILE">
        <type>filename</type>
        <brief>
            Name of the Map File
        </brief>
        <description>
            This is the Map File Template that is used to set the target
	    specific values in the mapping group for the projection.
        </description>
        <filter>
          *.map *.txt *.def *.pvl *.cub
        </filter>
        <helpers>
          <helper name="H4">
            <function>helperButtonLogTargDef</function>
            <brief>View MAP file contents in log area</brief>
            <description>This Help button will display the selected map file contents in the log area</description>
	    <icon>$ISISROOT/appdata/images/icons/view_text.png</icon>
          </helper>
          <helper name="H3">
            <function>helperButtonLoadTargDef</function>
            <brief>Load values from map file into GUI</brief>
            <description>
              This Help button will take the values in the map file and
              load them into their correct locations in the GUI.
            </description>
	    <icon>$ISISROOT/appdata/images/icons/exec.png</icon>
          </helper>
        </helpers>
      </parameter>

      <parameter name="TARGETNAME">
        <type>string</type>
        <brief>
          Name of the Target
        </brief>
        <description>
          This is the name of the Target (your planet of interest) for the projection.
        </description>
      </parameter>

      <parameter name="LATTYPE">
        <type>string</type>
        <brief>
          Latitude type
        </brief>
        <description>
          The latitude type for the projection.  It can either be Planetocentric or Planetographic.
           PLANETOCENTRIC is the default.
        </description>
        <default>
          <item>PLANETOCENTRIC</item>
        </default>
        <list>
          <option value="PLANETOCENTRIC">
            <brief>
              Planetocentric
            </brief>
            <description>
              Sets the latitude type in the mapping template to Planetocentric.
            </description>
          </option>
          <option value="PLANETOGRAPHIC">
            <brief>
              Planetographic
            </brief>
            <description>
              Sets the latitude type in the mapping template to Planetographic.
            </description>
          </option>
        </list>
      </parameter>

      <parameter name="LONDIR">
        <type>string</type>
        <brief>
          Longitude Direction
        </brief>
        <description>
          The longitude direction for the projection.  It can have a direction of Positive East
          or Positive West.  POSITIVEEAST is the default.
        </description>
        <default>
          <item>POSITIVEEAST</item>
        </default>
        <list>
          <option value="POSITIVEEAST">
            <brief>
              PositiveEast Longitude Direction
            </brief>
            <description>
              Longitude values increase to the east.
            </description>
          </option>
          <option value="POSITIVEWEST">
            <brief>
              PositiveWest Longitude Direction
            </brief>
            <description>
              Longitude values increase to the west.
            </description>
          </option>
        </list>
      </parameter>

      <parameter name="LONDOM">
        <type>string</type>
        <brief>
          Longitude Domain
        </brief>
        <description>
          The longitude domain for the projection.  It can either have a domain of 180 or 360.
          360 is the default.
        </description>
        <default>
          <item>360</item>
        </default>
        <list>
          <option value="360">
            <brief>
              0 to 360 degree longitude values
            </brief>
            <description>
              Sets the longitude domain in the mapping template to 360 degrees.
            </description>
          </option>
          <option value="180">
            <brief>
              -180 to 180 degree longitude values
            </brief>
            <description>
              Sets the longitude domain in the mapping template to 180 degrees.
            </description>
          </option>
        </list>
      </parameter>

      <parameter name="EQRADIUS">
        <type>double</type>
        <brief>
          Equatorial Radius
        </brief>
        <internalDefault>IAU Default</internalDefault>
        <description>
          The equatorial radius value to put in the map template.  If this
	     value is left blank, the system default will be used.
        </description>
        <helpers>
          <helper name="H5">
            <function>helperButtonLogRadius</function>
            <brief>Show the system default radius for the target in log area</brief>
            <description>
              This button will display the system radii values for the target
	        name in the log area
            </description>
	    <icon>$ISISROOT/appdata/images/icons/view_text.png</icon>
          </helper>
        </helpers>
      </parameter>

      <parameter name="POLRADIUS">
        <type>double</type>
        <brief>
          Polar Radius
        </brief>
        <internalDefault>IAU Default</internalDefault>
        <description>
          The polar radius value to put in the Map File Template.  If this value
	  is left blank, the system default will be used.
        </description>
      </parameter>
    </group>

    <group name="Ground Range Parameters">
      <parameter name="RNGOPT">
        <type>string</type>
        <brief>
          Ground Range Selection Options
        </brief>
        <description>
          This option specifies how the ground range information will be
          created. NONE is the default value. The other options are USER
          and CALC. For the NONE option, none of the ground range information
          is written to the map template file, allowing the range to be
          calculated from the image at the time of projection. For the USER
          option, the user enters their values for the ground range.  For
          the CALC option, <i>maptemplate</i> calculates the ground range using
          the files in the input list (FROMLIST). If CALC option is used,
          the MinimumLatitude, MaximumLatitude, MinimumLongitude, and
          MaximumLongitude are added to the mapping group after the calculation
          is performed.
        </description>
        <default>
          <item>NONE</item>
        </default>
        <helpers>
          <helper name="H3">
            <function>helperButtonCalcRange</function>
            <brief>Calculate Ranges using FROMLIST</brief>
            <description>
              Upon clicking this button, the program will calculate the latitude
              and longitude range using the files in the FROMLIST.
              The ranges will be calculated using the target information in the GUI.
              If no target information is entered, then the camera defaults will be used.
            </description>
	    <icon>$ISISROOT/appdata/images/icons/exec.png</icon>
          </helper>
        </helpers>
        <list>
          <option value="NONE">
            <brief>
              No ground range keywords are output
            </brief>
            <description>
              No ground range values will be put into the mapping template.  These values will be computed
              from the image at the time of projection.
            </description>
            <exclusions>
              <item>MINLAT</item>
              <item>MAXLAT</item>
              <item>MINLON</item>
              <item>MAXLON</item>
            </exclusions>
          </option>

          <option value="USER">
            <brief>
              User Entered Values
            </brief>
            <description>
              The user enters the values to be used for the ground range.
            </description>
          </option>

          <option value="CALC">
            <brief>
              Calculate Ground Range Using Input List
            </brief>
            <description>
              The values used for ground range will be calculated using the files in
	      (FROMLIST).
            </description>
            <exclusions>
              <item>MINLAT</item>
              <item>MAXLAT</item>
              <item>MINLON</item>
              <item>MAXLON</item>
            </exclusions>
          </option>
        </list>
      </parameter>

      <parameter name="MINLAT">
        <type>double</type>
        <brief>
          Minimum Latitude
        </brief>
        <description>
          The minimum latitude value in the mapping template will be set to this user entered value.
        </description>
        <lessThan><item>MAXLAT</item></lessThan>
        <minimum inclusive="yes">-90</minimum>
        <maximum inclusive="no">90</maximum>
      </parameter>

      <parameter name="MAXLAT">
        <type>double</type>
        <brief>
          Maximum Latitude
        </brief>
        <description>
          The maximum latitude value in the mapping template will be set to this user entered value.
        </description>
        <greaterThan><item>MINLAT</item></greaterThan>
        <minimum inclusive="no">-90</minimum>
        <maximum inclusive="yes">90</maximum>
      </parameter>

      <parameter name="MINLON">
        <type>double</type>
        <brief>
          Minimum Longitude
        </brief>
        <description>
          The minimum longitude value in the mapping template will be set to this user entered value.
        </description>
        <lessThan><item>MAXLON</item></lessThan>
      </parameter>

      <parameter name="MAXLON">
        <type>double</type>
        <brief>
          Maximum Longitude
        </brief>
        <description>
          The maximum longitude value in the mapping template will be set to this user entered value.
        </description>
        <greaterThan><item>MINLON</item></greaterThan>
      </parameter>
    </group>

    <group name="Resolution Parameters">
      <parameter name="RESOPT">
        <type>string</type>
        <brief>
          Resolution Selection Options
        </brief>
        <description>
          This option specifies how the resolution information will be created.
          The default is NONE. The other options are MPP, PPD, and CALC. The
          NONE option does not write any resolution information to the map
          file, allowing the resolution to be calculated from the image at the
          time of projection. The MPP and PPD option allow the user to enter
          their own value in meters per pixel or pixels per degree for the
          resolution.  The CALC option will calculate the resolution using the
          files listed in the FROMLIST parameter.
        </description>
        <default>
          <item>NONE</item>
        </default>
        <helpers>
          <helper name="H6">
            <function>helperButtonCalcResolution</function>
            <brief>Calculate Pixel Resolution using FROMLIST</brief>
            <description>
              Click this button to calculate the resolution value using the files in
              the FROMLIST.  The result of this calculation will be in meters/pixel
              and defined as the PixelResolution in the map file.
            </description>
	    <icon>$ISISROOT/appdata/images/icons/exec.png</icon>
          </helper>
        </helpers>
        <list>
          <option value="NONE">
            <brief>
              No resolution keywords are output
            </brief>
            <description>
              No resolution value will be put into the mapping template.  It will be
              computed from the image at the time of projection.
            </description>
            <exclusions>
              <item>RESOLUTION</item>
              <item>RESCALCOPT</item>
            </exclusions>
          </option>
          <option value="MPP">
            <brief>
              Specify the PixelResolution in meters per pixel
            </brief>
            <description>
              The unit for PixelResolution is set to meters per pixel in the map
              template file.
            </description>
            <exclusions>
              <item>RESCALCOPT</item>
            </exclusions>
          </option>
          <option value="PPD">
            <brief>
             Specify the Scale in pixels per degree
            </brief>
            <description>
              The unit for Scale is set to pixels per degree in the map
              template file.
            </description>
            <exclusions>
              <item>RESCALCOPT</item>
            </exclusions>
          </option>
          <option value="CALC">
            <brief>
              Calculate Resolution Using Input Parameter FROMLIST
            </brief>
            <description>
              The resolution will be calculated using the files in the FROMLIST parameter.  The value that
              is returned will be in meters per pixel and assigned to PixelResolution keyword.
            </description>
            <exclusions>
              <item>RESOLUTION</item>
            </exclusions>
          </option>
        </list>
      </parameter>

      <parameter name="RESOLUTION">
        <type>double</type>
        <brief>
          Resolution
        </brief>
        <description>
          This value is assigned to PixelResolution keyword if CALC or MPP was chosen, or Scale if
          PPD was chosen by the user.
        </description>
      </parameter>

      <parameter name="RESCALCOPT">
        <type>string</type>
        <brief>
          Calculated Resolution Selection Options
        </brief>
        <description>
          This option specifies how the resolution information calculated for
          the files in FROMLIST will be used to set the value for PixelResolution.
          The default is HIGH. The other options are LOW and AVERAGE. The HIGH
          option gets the highest resolution from the list of images, the LOW
          option gets the lowest resolution, and the AVERAGE option calculates
          the average resolution from all of the files in the FROMLIST parameter
          to set the value for PixelResolution in the map template. All options
          output the resolution in meters per pixel.
        </description>
        <default>
          <item>HIGH</item>
        </default>
        <list>
          <option value="HIGH">
            <brief>
              Select Highest / Best Resolution
            </brief>
            <description>
              Select the highest/best resolution from the images in the input list
              to define PixelResolution. Output is in meters per pixel.
            </description>
          </option>
          <option value="LOW">
            <brief>
              Select Lowest / Worst Resolution
            </brief>
            <description>
              Select the lowest/worst resolution from the images in the input list
              to define PixelResolution.  Output is in meters per pixel.
            </description>
          </option>
          <option value="AVERAGE">
            <brief>
              Calculate Average Resolution
            </brief>
            <description>
              The average resolution is calculated from the input images and set
              to PixelResolution.  Output is in meters per pixel.
            </description>
          </option>
        </list>
      </parameter>
    </group>
 </groups>

 <examples>
    <example>
      <brief> Sinusoidal Map Template</brief>
      <description>
        This example shows the contents of a PVL text file generated by the
        maptemplate application.  The settings are in default status for this
	example except for the output filename and center longitude which must
	be entered by the user.
        <pre>
Group = Mapping
  ProjectionName     = Sinusoidal
  CenterLongitude    = 0.0
End_Group
End
        </pre>
        The text above is the contents of the map template file when the
        following command line is executed.
      </description>
      <terminalInterface>
        <commandLine> map=out.txt clon=0.0
        </commandLine>
        <description>
        Run the maptemplate application specifying only the output file name
        and center longitude.
        </description>
      </terminalInterface>

      <guiInterfaces>
        <guiInterface>
          <image width="557" height="900" src="assets/images/maptemplate_GUI.png">
            <brief>Example GUI</brief>
            <description>
	        Screenshot of maptemplate GUI before the
	        center longitude was entered for the sinusoidal projection.
	    </description>
            <thumbnail width="93" height="150" caption="Maptemplate GUI" src="assets/thumb/maptemplate_GUI_thumb.png" />
          </image>
        </guiInterface>
      </guiInterfaces>

    </example>
    <example>
      <brief> Lambert Conformal Map Template</brief>
      <description>
        This example shows the contents of a PVL text file for a Lambert
        conformal map projection based on user selected options.  The output
        file, projection type, center latitude, center longitude, first and
        second standard parallels, target option, and target name are entered.
        The remaining settings are left in their default state.
        <pre>
Group = Mapping
  ProjectionName     = LambertConformal
  CenterLongitude    = 0.0
  CenterLatitude     = 90.0
  StandardParallel1  = 45.0
  StandardParallel2  = 55.0
  TargetName         = Mars
  EquatorialRadius   = 3396190.0 &lt;meters&gt;
  PolarRadius        = 3376200.0 &lt;meters&gt;
  LatitudeType       = Planetocentric
  LongitudeDirection = PositiveEast
  LongitudeDomain    = 360
End_Group
        </pre>
        The text shown above is the contents of the output file created when the
        following command line is executed.
      </description>
      <terminalInterface>
        <commandLine> map=out.txt projection=LambertConformal clon=0.0 clat=90.0 par1=45.0 par2=55.0 targopt=user targetname=MARS
        </commandLine>
        <description>
        Run the maptemplate application by specifying the output file, projection type,
        center latitude, center longitude, first and second standard parallels,
        target option, and target name.
        </description>
      </terminalInterface>
    </example>
 </examples>
 </application>
