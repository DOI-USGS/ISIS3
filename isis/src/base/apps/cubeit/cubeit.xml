<?xml version="1.0" encoding="UTF-8"?>

<application name="cubeit" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://isis.astrogeology.usgs.gov/Schemas/Application/application.xsd">
  <brief>
    Stacks individual cubes into one cube
  </brief>

  <description>
  <p>
    This program will stack a series of cubes into a single output cube.
    You can use cubeit to combine individual color bands to create
    a multi-band cube.
  </p>
  <p>
    A text-based file that contains a list of cubes to stack must be
    entered in the FROMLIST. Each cube must have the same spatial dimensions
    (e.g., samples and lines). The BandBin group, which is used to store information
    regarding each band in the cube, will be constructed.
  </p>
   <p>
   The order of the file is used to generate the stacking order. Cubes are automatically placed
   down as cubeit reads the list from top-to-bottom. You can change the order to make certain
   cubes appear in front of or behind other cubes by modifying the list order.
   </p>
    <p>
    By default, any tracking information stored within an input cube (for example, as generated by automos, mapmos, etc.)
    is not propagated to the output cube, since, in most cases, this tracking information is no longer relevant to
    the output cube.
    </p>

  </description>

  <category>
    <categoryItem>Utility</categoryItem>
  </category>

  <seeAlso>
    <applications>
      <item>explode</item>
    </applications>
  </seeAlso>

  <history>
    <change name="Jeff Anderson" date="2003-09-04">
      Original version
    </change>
    <change name="Brendan George" date="2006-09-14">
        Changed List parameter to have filename type, and added support
        for Attributes on tthe cubes in the file list.
    </change>
    <change name="Elizabeth Miller" date="2006-10-11">
      Modified to allow the user to pick which cube labels are propagated (using the
      PROPLAB keyword), rather than just using the first input cube (this is still
      the default).  And added a helper button
    </change>
    <change name="Jeff Anderson" date="2007-05-16">
      Modified so that the cube list does not need to contain the full directory path for PROPLAB option
    </change>
    <change name="Steven Lambright" date="2008-05-13">
      Removed references to CubeInfo
    </change>
    <change name="Sharmila Prasad" date="2011-01-20">
      Updated for changes in ProcessMosaic
    </change>
    <change name="Mackenzie Boyd" date="2011-04-11">
      Changed parameter LIST to FROMLIST
    </change>
    <change name="Steven Lambright" date="2013-01-10">
      Fixed handling of band specifications in the list file. The band bin group is still incorrect,
      but the correct bands are now placed in the output cube. Fixes #964.
    </change>
     <change name="Kristin Berry" date="2014-05-20">
       Fixed handing of input attributes so that the specified input band(s) are included in the output cube.
     </change>
     <change name="Kristin Berry" date="2015-07-22">
       Modified so that tracking information in the input cubes is not propagated to the output cube.
     </change>
     <change name="Christopher Combs" date="2017-05-19">
       Modified Makefile of badinputs app test to truncate paths before data directory. Allows tests
       to pass when not using the default data area. Fixes #4783.
     </change>
     <change name="Stuart Sides" date="2018-11-19">
       Removed the tracking label group if it exists in the output cube. Fixes #5533.
     </change>
     </history>

  <groups>
    <group name="Files">
      <parameter name="FROMLIST">
        <type>filename</type>
        <fileMode>input</fileMode>
        <brief>
          A text file containing a list of cubes
        </brief>
        <description>
          Each file in this list, one per line, will be added to
          the output cube in the order they appear.
        </description>
        <filter>
          *.lis
        </filter>
        <helpers>
          <helper name="H1">
            <function>helperButtonLog</function>
            <brief>View file in log area</brief>
            <description>This helper button will display the input file in the log area</description>
	    <icon>$ISISROOT/appdata/images/icons/view_text.png</icon>
          </helper>
        </helpers>
      </parameter>

      <parameter name="TO">
        <type>cube</type>
        <fileMode>output</fileMode>
        <brief>
          Output cube name
        </brief>
        <description>
          The name of cube containing the stacked data.
        </description>
      </parameter>
    </group>

    <group name="Label Propagation Options">
      <parameter name="PROPLAB">
        <type>cube</type>
        <brief>
          Input cube to propagate labels from
        </brief>
        <description>
          The input cube to propagate the labels from.  By default, it will propagate the labels
          from the first input cube in the list.
        </description>
        <internalDefault>First Cube in List</internalDefault>
      </parameter>
    </group>
  </groups>
</application>
